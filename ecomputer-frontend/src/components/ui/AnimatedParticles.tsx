'use client';

import React, { useState, useEffect } from 'react';

interface AnimatedParticlesProps {
  count?: number;
  className?: string;
  particleClassName?: string;
}

export const AnimatedParticles: React.FC<AnimatedParticlesProps> = ({
  count = 20,
  className = "absolute inset-0 overflow-hidden pointer-events-none",
  particleClassName = "absolute w-1 h-1 bg-white/20 rounded-full animate-float"
}) => {
  const [isMounted, setIsMounted] = useState(false);

  useEffect(() => {
    setIsMounted(true);
  }, []);

  // Фиксированные позиции для частиц (избегаем Math.random для гидратации)
  const getParticles = (count: number) => {
    const positions = [
      { left: '5%', top: '10%', delay: '0s', duration: '4s' },
      { left: '15%', top: '20%', delay: '0.5s', duration: '5s' },
      { left: '25%', top: '30%', delay: '1s', duration: '3s' },
      { left: '35%', top: '40%', delay: '1.5s', duration: '6s' },
      { left: '45%', top: '50%', delay: '2s', duration: '4s' },
      { left: '55%', top: '60%', delay: '2.5s', duration: '5s' },
      { left: '65%', top: '70%', delay: '3s', duration: '3s' },
      { left: '75%', top: '80%', delay: '0.2s', duration: '4s' },
      { left: '85%', top: '90%', delay: '0.8s', duration: '5s' },
      { left: '95%', top: '5%', delay: '1.2s', duration: '3s' },
      { left: '10%', top: '60%', delay: '1.8s', duration: '4s' },
      { left: '20%', top: '80%', delay: '2.2s', duration: '5s' },
      { left: '30%', top: '10%', delay: '0.3s', duration: '3s' },
      { left: '40%', top: '30%', delay: '0.7s', duration: '4s' },
      { left: '50%', top: '70%', delay: '1.3s', duration: '5s' },
      { left: '60%', top: '90%', delay: '1.7s', duration: '3s' },
      { left: '70%', top: '20%', delay: '2.1s', duration: '4s' },
      { left: '80%', top: '40%', delay: '0.4s', duration: '5s' },
      { left: '90%', top: '60%', delay: '0.9s', duration: '3s' },
      { left: '100%', top: '80%', delay: '1.4s', duration: '4s' },
      { left: '0%', top: '50%', delay: '1.9s', duration: '5s' },
      { left: '12%', top: '70%', delay: '2.3s', duration: '3s' },
      { left: '22%', top: '90%', delay: '0.1s', duration: '4s' },
      { left: '32%', top: '15%', delay: '0.6s', duration: '5s' },
      { left: '42%', top: '35%', delay: '1.1s', duration: '3s' },
      { left: '52%', top: '55%', delay: '1.6s', duration: '4s' },
      { left: '62%', top: '75%', delay: '2.1s', duration: '5s' },
      { left: '72%', top: '95%', delay: '0.2s', duration: '3s' },
      { left: '82%', top: '25%', delay: '0.7s', duration: '4s' },
      { left: '92%', top: '45%', delay: '1.2s', duration: '5s' },
      { left: '102%', top: '65%', delay: '1.7s', duration: '3s' },
      { left: '8%', top: '85%', delay: '2.2s', duration: '4s' },
      { left: '18%', top: '5%', delay: '0.3s', duration: '5s' },
      { left: '28%', top: '25%', delay: '0.8s', duration: '3s' },
      { left: '38%', top: '45%', delay: '1.3s', duration: '4s' },
      { left: '48%', top: '65%', delay: '1.8s', duration: '5s' },
      { left: '58%', top: '85%', delay: '2.3s', duration: '3s' },
      { left: '68%', top: '5%', delay: '0.4s', duration: '4s' },
      { left: '78%', top: '25%', delay: '0.9s', duration: '5s' },
      { left: '88%', top: '45%', delay: '1.4s', duration: '3s' },
      { left: '98%', top: '65%', delay: '1.9s', duration: '4s' },
      { left: '3%', top: '85%', delay: '2.4s', duration: '5s' },
      { left: '13%', top: '15%', delay: '0.5s', duration: '3s' },
      { left: '23%', top: '35%', delay: '1s', duration: '4s' },
      { left: '33%', top: '55%', delay: '1.5s', duration: '5s' },
      { left: '43%', top: '75%', delay: '2s', duration: '3s' },
      { left: '53%', top: '95%', delay: '2.5s', duration: '4s' },
      { left: '63%', top: '15%', delay: '0.1s', duration: '5s' },
      { left: '73%', top: '35%', delay: '0.6s', duration: '3s' },
      { left: '83%', top: '55%', delay: '1.1s', duration: '4s' },
      { left: '93%', top: '75%', delay: '1.6s', duration: '5s' },
      { left: '103%', top: '95%', delay: '2.1s', duration: '3s' },
      { left: '7%', top: '25%', delay: '2.6s', duration: '4s' },
      { left: '17%', top: '45%', delay: '0.2s', duration: '5s' },
      { left: '27%', top: '65%', delay: '0.7s', duration: '3s' },
      { left: '37%', top: '85%', delay: '1.2s', duration: '4s' },
      { left: '47%', top: '5%', delay: '1.7s', duration: '5s' },
      { left: '57%', top: '25%', delay: '2.2s', duration: '3s' },
      { left: '67%', top: '45%', delay: '0.3s', duration: '4s' },
      { left: '77%', top: '65%', delay: '0.8s', duration: '5s' },
      { left: '87%', top: '85%', delay: '1.3s', duration: '3s' },
      { left: '97%', top: '5%', delay: '1.8s', duration: '4s' },
      { left: '107%', top: '25%', delay: '2.3s', duration: '5s' },
      { left: '2%', top: '45%', delay: '2.8s', duration: '3s' },
      { left: '11%', top: '65%', delay: '0.4s', duration: '4s' },
      { left: '21%', top: '85%', delay: '0.9s', duration: '5s' },
      { left: '31%', top: '5%', delay: '1.4s', duration: '3s' },
      { left: '41%', top: '25%', delay: '1.9s', duration: '4s' },
      { left: '51%', top: '45%', delay: '2.4s', duration: '5s' },
      { left: '61%', top: '65%', delay: '0.5s', duration: '3s' },
      { left: '71%', top: '85%', delay: '1s', duration: '4s' },
      { left: '81%', top: '5%', delay: '1.5s', duration: '5s' },
      { left: '91%', top: '25%', delay: '2s', duration: '3s' },
      { left: '101%', top: '45%', delay: '2.5s', duration: '4s' },
      { left: '111%', top: '65%', delay: '0.6s', duration: '5s' },
      { left: '6%', top: '85%', delay: '1.1s', duration: '3s' },
      { left: '16%', top: '5%', delay: '1.6s', duration: '4s' },
      { left: '26%', top: '25%', delay: '2.1s', duration: '5s' },
      { left: '36%', top: '45%', delay: '2.6s', duration: '3s' },
      { left: '46%', top: '65%', delay: '0.7s', duration: '4s' },
      { left: '56%', top: '85%', delay: '1.2s', duration: '5s' },
      { left: '66%', top: '5%', delay: '1.7s', duration: '3s' },
      { left: '76%', top: '25%', delay: '2.2s', duration: '4s' },
      { left: '86%', top: '45%', delay: '2.7s', duration: '5s' },
      { left: '96%', top: '65%', delay: '0.8s', duration: '3s' },
      { left: '106%', top: '85%', delay: '1.3s', duration: '4s' },
      { left: '116%', top: '5%', delay: '1.8s', duration: '5s' },
      { left: '1%', top: '25%', delay: '2.3s', duration: '3s' },
      { left: '9%', top: '45%', delay: '2.8s', duration: '4s' },
      { left: '19%', top: '65%', delay: '0.9s', duration: '5s' },
      { left: '29%', top: '85%', delay: '1.4s', duration: '3s' },
      { left: '39%', top: '5%', delay: '1.9s', duration: '4s' },
      { left: '49%', top: '25%', delay: '2.4s', duration: '5s' },
      { left: '59%', top: '45%', delay: '0.1s', duration: '3s' },
      { left: '69%', top: '65%', delay: '0.6s', duration: '4s' },
      { left: '79%', top: '85%', delay: '1.1s', duration: '5s' },
      { left: '89%', top: '5%', delay: '1.6s', duration: '3s' },
      { left: '99%', top: '25%', delay: '2.1s', duration: '4s' },
      { left: '109%', top: '45%', delay: '2.6s', duration: '5s' },
      { left: '119%', top: '65%', delay: '0.2s', duration: '3s' },
      { left: '4%', top: '85%', delay: '0.7s', duration: '4s' },
      { left: '14%', top: '5%', delay: '1.2s', duration: '5s' },
      { left: '24%', top: '25%', delay: '1.7s', duration: '3s' },
      { left: '34%', top: '45%', delay: '2.2s', duration: '4s' },
      { left: '44%', top: '65%', delay: '2.7s', duration: '5s' },
      { left: '54%', top: '85%', delay: '0.3s', duration: '3s' },
      { left: '64%', top: '5%', delay: '0.8s', duration: '4s' },
      { left: '74%', top: '25%', delay: '1.3s', duration: '5s' },
      { left: '84%', top: '45%', delay: '1.8s', duration: '3s' },
      { left: '94%', top: '65%', delay: '2.3s', duration: '4s' },
      { left: '104%', top: '85%', delay: '2.8s', duration: '5s' },
      { left: '114%', top: '5%', delay: '0.4s', duration: '3s' },
      { left: '124%', top: '25%', delay: '0.9s', duration: '4s' },
      { left: '134%', top: '45%', delay: '1.4s', duration: '5s' },
      { left: '144%', top: '65%', delay: '1.9s', duration: '3s' },
      { left: '154%', top: '85%', delay: '2.4s', duration: '4s' },
      { left: '164%', top: '5%', delay: '2.9s', duration: '5s' },
      { left: '174%', top: '25%', delay: '0.5s', duration: '3s' },
      { left: '184%', top: '45%', delay: '1s', duration: '4s' },
      { left: '194%', top: '65%', delay: '1.5s', duration: '5s' },
      { left: '204%', top: '85%', delay: '2s', duration: '3s' },
      { left: '214%', top: '5%', delay: '2.5s', duration: '4s' },
      { left: '224%', top: '25%', delay: '3s', duration: '5s' },
      { left: '234%', top: '45%', delay: '0.6s', duration: '3s' },
      { left: '244%', top: '65%', delay: '1.1s', duration: '4s' },
      { left: '254%', top: '85%', delay: '1.6s', duration: '5s' },
      { left: '264%', top: '5%', delay: '2.1s', duration: '3s' },
      { left: '274%', top: '25%', delay: '2.6s', duration: '4s' },
      { left: '284%', top: '45%', delay: '3.1s', duration: '5s' },
      { left: '294%', top: '65%', delay: '0.7s', duration: '3s' },
      { left: '304%', top: '85%', delay: '1.2s', duration: '4s' },
      { left: '314%', top: '5%', delay: '1.7s', duration: '5s' },
      { left: '324%', top: '25%', delay: '2.2s', duration: '3s' },
      { left: '334%', top: '45%', delay: '2.7s', duration: '4s' },
      { left: '344%', top: '65%', delay: '3.2s', duration: '5s' },
      { left: '354%', top: '85%', delay: '0.8s', duration: '3s' },
      { left: '364%', top: '5%', delay: '1.3s', duration: '4s' },
      { left: '374%', top: '25%', delay: '1.8s', duration: '5s' },
      { left: '384%', top: '45%', delay: '2.3s', duration: '3s' },
      { left: '394%', top: '65%', delay: '2.8s', duration: '4s' },
      { left: '404%', top: '85%', delay: '3.3s', duration: '5s' },
      { left: '414%', top: '5%', delay: '0.9s', duration: '3s' },
      { left: '424%', top: '25%', delay: '1.4s', duration: '4s' },
      { left: '434%', top: '45%', delay: '1.9s', duration: '5s' },
      { left: '444%', top: '65%', delay: '2.4s', duration: '3s' },
      { left: '454%', top: '85%', delay: '2.9s', duration: '4s' },
      { left: '464%', top: '5%', delay: '3.4s', duration: '5s' },
      { left: '474%', top: '25%', delay: '1s', duration: '3s' },
      { left: '484%', top: '45%', delay: '1.5s', duration: '4s' },
      { left: '494%', top: '65%', delay: '2s', duration: '5s' },
      { left: '504%', top: '85%', delay: '2.5s', duration: '3s' },
      { left: '514%', top: '5%', delay: '3s', duration: '4s' },
      { left: '524%', top: '25%', delay: '3.5s', duration: '5s' },
      { left: '534%', top: '45%', delay: '1.1s', duration: '3s' },
      { left: '544%', top: '65%', delay: '1.6s', duration: '4s' },
      { left: '554%', top: '85%', delay: '2.1s', duration: '5s' },
      { left: '564%', top: '5%', delay: '2.6s', duration: '3s' },
      { left: '574%', top: '25%', delay: '3.1s', duration: '4s' },
      { left: '584%', top: '45%', delay: '3.6s', duration: '5s' },
      { left: '594%', top: '65%', delay: '1.2s', duration: '3s' },
      { left: '604%', top: '85%', delay: '1.7s', duration: '4s' },
      { left: '614%', top: '5%', delay: '2.2s', duration: '5s' },
      { left: '624%', top: '25%', delay: '2.7s', duration: '3s' },
      { left: '634%', top: '45%', delay: '3.2s', duration: '4s' },
      { left: '644%', top: '65%', delay: '3.7s', duration: '5s' },
      { left: '654%', top: '85%', delay: '1.3s', duration: '3s' },
      { left: '664%', top: '5%', delay: '1.8s', duration: '4s' },
      { left: '674%', top: '25%', delay: '2.3s', duration: '5s' },
      { left: '684%', top: '45%', delay: '2.8s', duration: '3s' },
      { left: '694%', top: '65%', delay: '3.3s', duration: '4s' },
      { left: '704%', top: '85%', delay: '3.8s', duration: '5s' },
      { left: '714%', top: '5%', delay: '1.4s', duration: '3s' },
      { left: '724%', top: '25%', delay: '1.9s', duration: '4s' },
      { left: '734%', top: '45%', delay: '2.4s', duration: '5s' },
      { left: '744%', top: '65%', delay: '2.9s', duration: '3s' },
      { left: '754%', top: '85%', delay: '3.4s', duration: '4s' },
      { left: '764%', top: '5%', delay: '3.9s', duration: '5s' },
      { left: '774%', top: '25%', delay: '1.5s', duration: '3s' },
      { left: '784%', top: '45%', delay: '2s', duration: '4s' },
      { left: '794%', top: '65%', delay: '2.5s', duration: '5s' },
      { left: '804%', top: '85%', delay: '3s', duration: '3s' },
      { left: '814%', top: '5%', delay: '3.5s', duration: '4s' },
      { left: '824%', top: '25%', delay: '4s', duration: '5s' },
      { left: '834%', top: '45%', delay: '1.6s', duration: '3s' },
      { left: '844%', top: '65%', delay: '2.1s', duration: '4s' },
      { left: '854%', top: '85%', delay: '2.6s', duration: '5s' },
      { left: '864%', top: '5%', delay: '3.1s', duration: '3s' },
      { left: '874%', top: '25%', delay: '3.6s', duration: '4s' },
      { left: '884%', top: '45%', delay: '4.1s', duration: '5s' },
      { left: '894%', top: '65%', delay: '1.7s', duration: '3s' },
      { left: '904%', top: '85%', delay: '2.2s', duration: '4s' },
      { left: '914%', top: '5%', delay: '2.7s', duration: '5s' },
      { left: '924%', top: '25%', delay: '3.2s', duration: '3s' },
      { left: '934%', top: '45%', delay: '3.7s', duration: '4s' },
      { left: '944%', top: '65%', delay: '4.2s', duration: '5s' },
      { left: '954%', top: '85%', delay: '1.8s', duration: '3s' },
      { left: '964%', top: '5%', delay: '2.3s', duration: '4s' },
      { left: '974%', top: '25%', delay: '2.8s', duration: '5s' },
      { left: '984%', top: '45%', delay: '3.3s', duration: '3s' },
      { left: '994%', top: '65%', delay: '3.8s', duration: '4s' },
      { left: '1004%', top: '85%', delay: '4.3s', duration: '5s' },
      { left: '1014%', top: '5%', delay: '1.9s', duration: '3s' },
      { left: '1024%', top: '25%', delay: '2.4s', duration: '4s' },
      { left: '1034%', top: '45%', delay: '2.9s', duration: '5s' },
      { left: '1044%', top: '65%', delay: '3.4s', duration: '3s' },
      { left: '1054%', top: '85%', delay: '3.9s', duration: '4s' },
      { left: '1064%', top: '5%', delay: '4.4s', duration: '5s' },
      { left: '1074%', top: '25%', delay: '2s', duration: '3s' },
      { left: '1084%', top: '45%', delay: '2.5s', duration: '4s' },
      { left: '1094%', top: '65%', delay: '3s', duration: '5s' },
      { left: '1104%', top: '85%', delay: '3.5s', duration: '3s' },
      { left: '1114%', top: '5%', delay: '4s', duration: '4s' },
      { left: '1124%', top: '25%', delay: '4.5s', duration: '5s' },
      { left: '1134%', top: '45%', delay: '2.1s', duration: '3s' },
      { left: '1144%', top: '65%', delay: '2.6s', duration: '4s' },
      { left: '1154%', top: '85%', delay: '3.1s', duration: '5s' },
      { left: '1164%', top: '5%', delay: '3.6s', duration: '3s' },
      { left: '1174%', top: '25%', delay: '4.1s', duration: '4s' },
      { left: '1184%', top: '45%', delay: '4.6s', duration: '5s' },
      { left: '1194%', top: '65%', delay: '2.2s', duration: '3s' },
      { left: '1204%', top: '85%', delay: '2.7s', duration: '4s' },
      { left: '1214%', top: '5%', delay: '3.2s', duration: '5s' },
      { left: '1224%', top: '25%', delay: '3.7s', duration: '3s' },
      { left: '1234%', top: '45%', delay: '4.2s', duration: '4s' },
      { left: '1244%', top: '65%', delay: '4.7s', duration: '5s' },
      { left: '1254%', top: '85%', delay: '2.3s', duration: '3s' },
      { left: '1264%', top: '5%', delay: '2.8s', duration: '4s' },
      { left: '1274%', top: '25%', delay: '3.3s', duration: '5s' },
      { left: '1284%', top: '45%', delay: '3.8s', duration: '3s' },
      { left: '1294%', top: '65%', delay: '4.3s', duration: '4s' },
      { left: '1304%', top: '85%', delay: '4.8s', duration: '5s' },
      { left: '1314%', top: '5%', delay: '2.4s', duration: '3s' },
      { left: '1324%', top: '25%', delay: '2.9s', duration: '4s' },
      { left: '1334%', top: '45%', delay: '3.4s', duration: '5s' },
      { left: '1344%', top: '65%', delay: '3.9s', duration: '3s' },
      { left: '1354%', top: '85%', delay: '4.4s', duration: '4s' },
      { left: '1364%', top: '5%', delay: '4.9s', duration: '5s' },
      { left: '1374%', top: '25%', delay: '2.5s', duration: '3s' },
      { left: '1384%', top: '45%', delay: '3s', duration: '4s' },
      { left: '1394%', top: '65%', delay: '3.5s', duration: '5s' },
      { left: '1404%', top: '85%', delay: '4s', duration: '3s' },
      { left: '1414%', top: '5%', delay: '4.5s', duration: '4s' },
      { left: '1424%', top: '25%', delay: '5s', duration: '5s' },
      { left: '1434%', top: '45%', delay: '2.6s', duration: '3s' },
      { left: '1444%', top: '65%', delay: '3.1s', duration: '4s' },
      { left: '1454%', top: '85%', delay: '3.6s', duration: '5s' },
      { left: '1464%', top: '5%', delay: '4.1s', duration: '3s' },
      { left: '1474%', top: '25%', delay: '4.6s', duration: '4s' },
      { left: '1484%', top: '45%', delay: '5.1s', duration: '5s' },
      { left: '1494%', top: '65%', delay: '2.7s', duration: '3s' },
      { left: '1504%', top: '85%', delay: '3.2s', duration: '4s' },
      { left: '1514%', top: '5%', delay: '3.7s', duration: '5s' },
      { left: '1524%', top: '25%', delay: '4.2s', duration: '3s' },
      { left: '1534%', top: '45%', delay: '4.7s', duration: '4s' },
      { left: '1544%', top: '65%', delay: '5.2s', duration: '5s' },
      { left: '1554%', top: '85%', delay: '2.8s', duration: '3s' },
      { left: '1564%', top: '5%', delay: '3.3s', duration: '4s' },
      { left: '1574%', top: '25%', delay: '3.8s', duration: '5s' },
      { left: '1584%', top: '45%', delay: '4.3s', duration: '3s' },
      { left: '1594%', top: '65%', delay: '4.8s', duration: '4s' },
      { left: '1604%', top: '85%', delay: '5.3s', duration: '5s' },
      { left: '1614%', top: '5%', delay: '2.9s', duration: '3s' },
      { left: '1624%', top: '25%', delay: '3.4s', duration: '4s' },
      { left: '1634%', top: '45%', delay: '3.9s', duration: '5s' },
      { left: '1644%', top: '65%', delay: '4.4s', duration: '3s' },
      { left: '1654%', top: '85%', delay: '4.9s', duration: '4s' },
      { left: '1664%', top: '5%', delay: '5.4s', duration: '5s' },
      { left: '1674%', top: '25%', delay: '3s', duration: '3s' },
      { left: '1684%', top: '45%', delay: '3.5s', duration: '4s' },
      { left: '1694%', top: '65%', delay: '4s', duration: '5s' },
      { left: '1704%', top: '85%', delay: '4.5s', duration: '3s' },
      { left: '1714%', top: '5%', delay: '5s', duration: '4s' },
      { left: '1724%', top: '25%', delay: '5.5s', duration: '5s' },
      { left: '1734%', top: '45%', delay: '3.1s', duration: '3s' },
      { left: '1744%', top: '65%', delay: '3.6s', duration: '4s' },
      { left: '1754%', top: '85%', delay: '4.1s', duration: '5s' },
      { left: '1764%', top: '5%', delay: '4.6s', duration: '3s' },
      { left: '1774%', top: '25%', delay: '5.1s', duration: '4s' },
      { left: '1784%', top: '45%', delay: '5.6s', duration: '5s' },
      { left: '1794%', top: '65%', delay: '3.2s', duration: '3s' },
      { left: '1804%', top: '85%', delay: '3.7s', duration: '4s' },
      { left: '1814%', top: '5%', delay: '4.2s', duration: '5s' },
      { left: '1824%', top: '25%', delay: '4.7s', duration: '3s' },
      { left: '1834%', top: '45%', delay: '5.2s', duration: '4s' },
      { left: '1844%', top: '65%', delay: '5.7s', duration: '5s' },
      { left: '1854%', top: '85%', delay: '3.3s', duration: '3s' },
      { left: '1864%', top: '5%', delay: '3.8s', duration: '4s' },
      { left: '1874%', top: '25%', delay: '4.3s', duration: '5s' },
      { left: '1884%', top: '45%', delay: '4.8s', duration: '3s' },
      { left: '1894%', top: '65%', delay: '5.3s', duration: '4s' },
      { left: '1904%', top: '85%', delay: '5.8s', duration: '5s' },
      { left: '1914%', top: '5%', delay: '3.4s', duration: '3s' },
      { left: '1924%', top: '25%', delay: '3.9s', duration: '4s' },
      { left: '1934%', top: '45%', delay: '4.4s', duration: '5s' },
      { left: '1944%', top: '65%', delay: '4.9s', duration: '3s' },
      { left: '1954%', top: '85%', delay: '5.4s', duration: '4s' },
      { left: '1964%', top: '5%', delay: '5.9s', duration: '5s' },
      { left: '1974%', top: '25%', delay: '3.5s', duration: '3s' },
      { left: '1984%', top: '45%', delay: '4s', duration: '4s' },
      { left: '1994%', top: '65%', delay: '4.5s', duration: '5s' },
      { left: '2004%', top: '85%', delay: '5s', duration: '3s' },
      { left: '2014%', top: '5%', delay: '5.5s', duration: '4s' },
      { left: '2024%', top: '25%', delay: '6s', duration: '5s' }
    ];

    return positions.slice(0, count);
  };

  // Только рендерим частицы на клиенте
  if (!isMounted) {
    return null;
  }

  const particles = getParticles(count);

  return (
    <div className={className}>
      {particles.map((particle, i) => (
        <div
          key={i}
          className={particleClassName}
          style={{
            left: particle.left,
            top: particle.top,
            animationDelay: particle.delay,
            animationDuration: particle.duration
          }}
        />
      ))}
    </div>
  );
};
